<!DOCTYPE html>
<html>
  <head>
    <title>Chiptune Sound</title>
  </head>
  <body>
    <button onclick="playChiptune()">Play Chiptune</button>

    <script>
      function playChiptune() {
        const audioContext = new (window.AudioContext ||
          window.webkitAudioContext)()
        const oscillator = audioContext.createOscillator()
        const gainNode = audioContext.createGain()

        oscillator.type = 'square' // square wave for chiptune sound
        // gainNode.gain.value = 2 // lower volume to avoid loud sound

        // Connect the oscillator to the gain node and the gain node to the audio context
        oscillator.connect(gainNode)
        gainNode.connect(audioContext.destination)

        // Define the notes and their durations
        const notes = [
          { frequency: 523, duration: 0.1 }, // C5
          { frequency: 0, duration: 0.05 }, // G5

          { frequency: 622, duration: 0.1 }, // D#5
          { frequency: 0, duration: 0.05 }, // G5

          { frequency: 784, duration: 0.1 }, // G5
          { frequency: 0, duration: 0.05 }, // G5
          { frequency: 622, duration: 0.1 }, // D#5
          { frequency: 0, duration: 0.05 }, // G5
          { frequency: 523, duration: 0.1 }, // C5
          { frequency: 0, duration: 0.05 }, // G5
          { frequency: 784, duration: 0.1 }, // G5
          { frequency: 0, duration: 0.05 }, // G5
          { frequency: 784, duration: 0.1 }, // G5
          { frequency: 0, duration: 0.05 }, // G5
        ]

        let currentTime = audioContext.currentTime

        // Schedule the notes
        notes.forEach((note) => {
          oscillator.frequency.setValueAtTime(note.frequency, currentTime)
          gainNode.gain.setValueAtTime(0.1, currentTime)
          currentTime += note.duration
          gainNode.gain.setValueAtTime(0, currentTime)
        })

        oscillator.start()
        oscillator.stop(currentTime)
      }
    </script>
  </body>
</html>
